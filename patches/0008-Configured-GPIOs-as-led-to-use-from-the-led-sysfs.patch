From 26feb81378ec03654364c71303a5292130a1a205 Mon Sep 17 00:00:00 2001
From: keyur-mpc <keyur@mpconsultants.org>
Date: Thu, 3 Aug 2023 11:36:19 +0000
Subject: [PATCH 08/14] Configured GPIOs as led to use from the led sysfs

---
 ...x6ull-var-som-concerto-board-emmc-wifi.dts | 78 ++++++++++++++++++-
 1 file changed, 74 insertions(+), 4 deletions(-)

diff --git a/arch/arm/boot/dts/imx6ull-var-som-concerto-board-emmc-wifi.dts b/arch/arm/boot/dts/imx6ull-var-som-concerto-board-emmc-wifi.dts
index ee7966bc58bd..586e39116eb8 100644
--- a/arch/arm/boot/dts/imx6ull-var-som-concerto-board-emmc-wifi.dts
+++ b/arch/arm/boot/dts/imx6ull-var-som-concerto-board-emmc-wifi.dts
@@ -43,6 +43,69 @@
     /delete-node/ tsc;
 
     /delete-node/ backlight;
+
+    run-control {
+        compatible = "gpio-leds";
+        pinctrl-names = "default";
+        pinctrl-0 = <&pinctrl_java_gpio>, <&pinctrl_java_gpio_snvs>;
+		status = "okay";
+        dwx_ls {
+            gpios = <&gpio3 9 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        solar_ls {
+            gpios = <&gpio3 22 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        bg95_ls {
+            gpios = <&gpio3 8 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        weather_ls {
+            gpios = <&gpio3 17 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        eth_ls {
+            gpios = <&gpio3 25 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        aqi_ls {
+            gpios = <&gpio3 18 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        batt_ls {
+            gpios = <&gpio1 2 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        enet_rst {
+            gpios = <&gpio1 31 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        bg95_rst {
+            gpios = <&gpio5 9 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        camera_ls {
+            gpios = <&gpio3 7 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        boost1_en {
+            gpios = <&gpio5 7 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        boost2_en {
+            gpios = <&gpio5 3 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        strobe_in {
+            gpios = <&gpio4 23 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+        dwx_rst {
+            gpios = <&gpio1 5 GPIO_ACTIVE_HIGH>;
+            default-state = "on";
+        };
+    };
 };
 
 /* MPC changes*/
@@ -100,16 +163,23 @@
 			MX6UL_PAD_LCD_DATA13__GPIO3_IO18 0x1b0b0
 			MX6UL_PAD_GPIO1_IO02__GPIO1_IO02 0x1b0b0
 			MX6UL_PAD_UART5_RX_DATA__GPIO1_IO31 0x1b0b0
-			MX6ULL_PAD_SNVS_TAMPER9__GPIO5_IO09 0x1b0b0
 			MX6UL_PAD_LCD_DATA02__GPIO3_IO07 0x1b0b0
-			MX6UL_PAD_SNVS_TAMPER7__GPIO5_IO07 0x1b0b0
-			MX6UL_PAD_SNVS_TAMPER3__GPIO5_IO03 0x1b0b0
 			MX6UL_PAD_CSI_DATA02__GPIO4_IO23 0x1b0b0
 			MX6UL_PAD_GPIO1_IO05__GPIO1_IO05 0x1b0b0
 		>;
 	};
 };
 
+&iomuxc_snvs {
+   pinctrl_java_gpio_snvs: javagpiogrpsnvs {
+		fsl,pins = <
+			MX6ULL_PAD_SNVS_TAMPER9__GPIO5_IO09 0x1b0b0
+			MX6ULL_PAD_SNVS_TAMPER7__GPIO5_IO07 0x1b0b0
+			MX6ULL_PAD_SNVS_TAMPER3__GPIO5_IO03 0x1b0b0
+		>;
+	};
+};
+
 /* wdog to avoid confclicts with ADC Pin */
 &wdog1 {
     /delete-property/ pinctrl-names;
@@ -148,7 +218,7 @@
 /* Condifgured ADC on GPIO1_IO1 */
 &adc1 {
 	pinctrl-names = "default";
-	pinctrl-0 = <&pinctrl_adc1>, <&pinctrl_java_gpio>;
+	pinctrl-0 = <&pinctrl_adc1>;
 	vref-supply = <&touch_3v3_regulator>;
 	num-channels = <10>;
 	status = "okay";
-- 
2.25.1

