From d83a8456f3fc9e1b95eb2f0024962df73e00f18b Mon Sep 17 00:00:00 2001
From: keyur-mpc <keyur@mpconsultants.org>
Date: Tue, 1 Aug 2023 15:41:47 +0000
Subject: [PATCH 03/14] Configured ADC on pin GPIO1_01

---
 ...x6ull-var-som-concerto-board-emmc-wifi.dts | 22 +++++++++++++++++++
 1 file changed, 22 insertions(+)

diff --git a/arch/arm/boot/dts/imx6ull-var-som-concerto-board-emmc-wifi.dts b/arch/arm/boot/dts/imx6ull-var-som-concerto-board-emmc-wifi.dts
index 212138c8ec0e..56d41eef3234 100644
--- a/arch/arm/boot/dts/imx6ull-var-som-concerto-board-emmc-wifi.dts
+++ b/arch/arm/boot/dts/imx6ull-var-som-concerto-board-emmc-wifi.dts
@@ -63,6 +63,19 @@
             MX6UL_PAD_UART5_TX_DATA__GPIO1_IO30	0x130b1
         >;
     };
+
+    pinctrl_adc1: adc1grp {
+		fsl,pins = <
+			MX6UL_PAD_GPIO1_IO01__GPIO1_IO01 0xb0
+		>;
+	};
+};
+
+/* wdog to avoid confclicts with ADC Pin */
+&wdog1 {
+    /delete-property/ pinctrl-names;
+    /delete-property/ pinctrl-0;
+    /delete-property/ fsl,ext-reset-output;
 };
 
 /* ttymxc2 UART */
@@ -92,3 +105,12 @@
 	rs485-rts-active-high;
 	status = "okay";
 };
+
+/* Condifgured ADC on GPIO1_IO1 */
+&adc1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_adc1>;
+	vref-supply = <&touch_3v3_regulator>;
+	num-channels = <10>;
+	status = "okay";
+};
-- 
2.25.1

